<div class="contact-container">
  <h1 class="contact-title">Contactez-nous</h1>

  <form (ngSubmit)="onSubmit()" #contactForm="ngForm" class="contact-form">

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailField="ngModel"
        required
        email
        aria-describedby="emailError"
        class="form-control"
      />
      <div *ngIf="emailField.invalid && emailField.touched" id="emailError" class="error-message">
        <span *ngIf="emailField.errors?.['required']">L'email est requis.</span>
        <span *ngIf="emailField.errors?.['email']">L'email doit être valide.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        id="message"
        name="message"
        [(ngModel)]="message"
        #messageField="ngModel"
        required
        minlength="1"
        maxlength="300"
        aria-describedby="messageError"
        class="form-control"
        rows="5"
      ></textarea>
      <div *ngIf="messageField.invalid && messageField.touched" id="messageError" class="error-message">
        <span *ngIf="messageField.errors?.['required']">Le message est requis.</span>
        <span *ngIf="messageField.errors?.['maxlength']">Le message ne doit pas dépasser 300 caractères.</span>
      </div>
    </div>

    <div class="form-group button-group">
      <button type="submit" [disabled]="contactForm.invalid || formSubmitted" class="submit-button">
        Envoyer
      </button>
    </div>
  </form>

  <div *ngIf="formSubmittedSuccessfully" class="success-message">
    Demande de contact envoyée avec succès.
  </div>
</div>
